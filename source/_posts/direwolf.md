---
title: direwolf + 电视盒子打造TNC
date: 2022-07-04 15:24:47
tags:
- direwolf
- Manjaro ARM
- ham
---
# 前言
一直想体验下packet radio，不过国内错过了packet radio最流行的年代，所以硬件TNC也淘不到，大家都一步跨进了声卡时代，用 soundcard modem 作为关键词可以搜索到很多。基于此，尝试用手边的廉价配件拼凑出一台可用的TNC,用作packet radio之途。

所谓的soundcard modem,简单而言利用声卡的DSP（Digital Signal Processing）功能，实现数模转换。以AFSK为例，定义了2个不同声调分别代表0和1,实现数传功能。硬件方面需要一部具备声卡的计算机，软件方面需要特定程序实现调制解调以及PTT控制功能。伴随着思路逐渐清晰，整个系统的组件大致如下：
# 组件
1. 计算机
还是老朋友R3300-M :P 安装运行Manjaro ARM minimal。我打算把它当成网络TNC,通过网络用其他电脑远程连接使用。如果需要本地使用也可以运行sway之类图形系统，配置应该不成问题。
2. 声卡
几块钱包邮的USB声卡。
3. 电台连接器
这个是整套系统中最有难度抑或最花钱的部分。成品难找而且价格普遍不菲，DIY需要专业知识以及动手能力。
4. 电台
电台要求很低，最廉价的FM收发机即可，当然要结合电台连接器。
5. TNC 软件
使用Dire Wolf。这个软件的功能比较多，对于我的用途而言使用KISS协议作为一个远程TNC即可。
# 实现
1. 在R3300-M上运行Dire Wolf。毫无难度，按说明编译运行即可。
2. 声卡配置。USB声卡即插即用，为方便配置可以安装 `alsa-utils`，这个包提供了 `alsamixer` ，可以比较直观地对音频进行配置。
3. 电台连接器。从马工淘宝店250块钱买的。
4. 电台。FT-8900R。其实更想用UV-5R,不过国内没找到连接器，国外论坛有人分享电路图，有心人自己去看吧。电台的波特率设置为1200bps。
5. 路由器。闲鱼15块钱收的必虎无线路由器。5V DC供电，1 WAN 2 LAN,刷了openwrt后用来连接R3300-M很合适。
6. 终端电脑。华硕EEE 1025CE。渣配上网本，特意为它更换了SSD,又淘来了一枚100W PD诱骗头，这样可以在汽车上搭配小米100W充电器使用，达到全直流供电目的，与整套车载供电与太阳能发电系统形成整体。

整套系统依托汽车搭建。调试成功后，在无线路由器覆盖范围内，都可以方便地用笔记本进行Packet Radio操作。
# 进度
## 已完成
1. 所有必备硬件已准备完毕。
2. Dire Wolf编译完毕，可正常运行。
3. 必虎路由器刷机完毕。
## 计划中
1. 安装合适的Packet Radio终端软件。
2. 连接系统各硬件模块。
3. 参照手册对Dire Wolf进行配置。